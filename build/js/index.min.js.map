{"version":3,"sources":["index.js"],"names":["mainHeader","initiateMenu","featuresSlider","toggleServiceList","serviceTitle","spaceBetween","partnersSlider","breakpoints","buttonNext","evt","inputName","inputPhone","phonePattern","allowedSymbols","initiateMap","addEventListener","offset","setIconSizes","hideMenu","menuToggler","classList","remove","menuList","document","querySelector","toggle","toggleMenu","window","innerWidth","features","Swiper","centeredSlides","allowTouchMove","loop","slidesPerView","767","pagination","el","clickable","call","serviceList","querySelectorAll","singleServices","forEach","index","service","length","DESKTOP_WIDTH$1","initiatePartners","partners","direction","1199","swiperSlider","slideNext","sizes","MOBILE","slidePrev","icon","ICONS_SIZES","center","map","iconLocation","ymaps","Map","zoom","iconLayout","point","location","Placemark","iconImageHref","origin","changedIcon","set","bigMap","geoObjects","add","ready","options","initiateContactsForm","target","slice","contactsForm","value","test","substring","setCustomValidity","inputEmail","initiateServices","submitButton","preventDefault","reportValidity","submit"],"mappings":"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","file":"index.min.js","sourcesContent":["(function () {\n  'use strict';\n\n  const DESKTOP_WIDTH = 1200;\n\n  const initiateMenu = () => {\n    const mainHeader = document.querySelector(`.main-header`);\n    const menuToggler = mainHeader.querySelector(`.main-header__toggler`);\n    const menuList = mainHeader.querySelector(`.main-header__list`);\n\n    const toggleMenu = () => {\n      menuToggler.classList.toggle(`main-header__toggler--active`);\n      menuList.classList.toggle(`main-header__list--active`);\n    };\n\n    const hideMenu = () => {\n      menuToggler.classList.remove(`main-header__toggler--active`);\n      menuList.classList.remove(`main-header__list--active`);\n    };\n\n    menuToggler.addEventListener(`click`, toggleMenu);\n\n    document.addEventListener(`keydown`, (evt) => {\n      if (evt.keyCode === 27) {\n        hideMenu();\n      }\n    });\n\n    window.addEventListener(`resize`, () => {\n      if (window.innerWidth >= DESKTOP_WIDTH) {\n        hideMenu();\n      }\n    });\n  };\n\n  const initiateFeatures = () => {\n    const features = document.querySelector(`.features`);\n    const featuresSlider = features.querySelector(`.features__slider`);\n\n    const swiperSliderFeatures = new Swiper(featuresSlider, {\n      direction: `horizontal`,\n      centeredSlides: true,\n      allowTouchMove: true,\n      loop: true,\n      slidesPerView: 3,\n\n      breakpoints: {\n        767: {\n          slidesPerView: 1\n        }\n      },\n\n      pagination: {\n        el: `.swiper-pagination`,\n        clickable: true\n      }\n    });\n  };\n\n  const DESKTOP_WIDTH$1 = 1200;\n\n  const initiateServices = () => {\n    const services = document.querySelector(`.services`);\n    const singleServices = [].slice.call(\n        services.querySelectorAll(`.single-service`)\n    );\n\n    const toggleServiceList = (serviceTitle, serviceList) => {\n      serviceTitle.classList.toggle(`single-service__title--active`);\n      serviceList.classList.toggle(`single-service__list--active`);\n    };\n\n    singleServices.forEach((service, index) => {\n      const serviceTitle = service.querySelector(`.single-service__title`);\n      const serviceList = service.querySelector(`.single-service__list`);\n      serviceList.style.zIndex = `${40 - singleServices.length - index}`;\n\n      serviceTitle.addEventListener(`click`, () => {\n        singleServices.forEach((service) => {\n          const serviceTitle = service.querySelector(`.single-service__title`);\n          const serviceList = service.querySelector(`.single-service__list`);\n          serviceTitle.classList.remove(`single-service__title--active`);\n          serviceList.classList.remove(`single-service__list--active`);\n        });\n\n        toggleServiceList(serviceTitle, serviceList);\n      });\n\n      window.addEventListener(`resize`, () => {\n        if (window.innerWidth >= DESKTOP_WIDTH$1) {\n          serviceTitle.classList.remove(`single-service__title--active`);\n          serviceList.classList.remove(`single-service__list--active`);\n        }\n      });\n    });\n  };\n\n  const initiatePartners = () => {\n    const partners = document.querySelector(`.partners`);\n    const partnersSlider = partners.querySelector(`.partners__slider`);\n    const buttonPrevious = partners.querySelector(`.partners__button--previous`);\n    const buttonNext = partners.querySelector(`.partners__button--next`);\n\n    const swiperSlider = new Swiper(partnersSlider, {\n      direction: `horizontal`,\n      slidesPerView: 4,\n      allowTouchMove: true,\n      spaceBetween: 30,\n      loop: true,\n\n      breakpoints: {\n        767: {\n          slidesPerView: 1,\n          spaceBetween: 0\n        },\n        1199: {\n          slidesPerView: 3,\n          centeredSlides: true,\n          spaceBetween: 0\n        }\n      },\n      pagination: {\n        el: `.swiper-pagination`,\n        clickable: true\n      }\n    });\n\n    buttonNext.addEventListener(`click`, () => {\n      swiperSlider.slideNext();\n    });\n    buttonPrevious.addEventListener(`click`, () => {\n      swiperSlider.slidePrev();\n    });\n  };\n\n  const DESKTOP_WIDTH$2 = 1200;\n  const ICONS_SIZES = {\n    DESKTOP: {sizes: [72, 98], offset: [-35, -90]},\n    MOBILE: {sizes: [21, 28], offset: [-11, -18]}\n  };\n\n  const initiateMap = () => {\n    document.addEventListener(`DOMContentLoaded`, () => {\n      const setIconSizes = () => {\n        let icon;\n\n        if (window.innerWidth >= DESKTOP_WIDTH$2) {\n          icon = ICONS_SIZES.DESKTOP;\n        } else {\n          icon = ICONS_SIZES.MOBILE;\n        }\n\n        return icon;\n      };\n\n      const map = document.querySelector(`#map`);\n\n      if (map) {\n        const initiateMap = () => {\n          const bigMap = new ymaps.Map(map, {\n            center: [55.631813, 37.618403],\n            zoom: 16\n          });\n\n          let icon = setIconSizes();\n\n          let iconLocation;\n          if (window.location.href.split(`/build/`).length > 1) {\n            iconLocation = `${\n            window.location.href.split(`/build/`)[0]\n          }/build/img/icons/geo.svg`;\n          } else {\n            iconLocation = `${document.location.origin}/img/icons/geo.svg`;\n          }\n\n          const point = new ymaps.Placemark([55.631813, 37.618403], null, {\n            iconLayout: `default#imageWithContent`,\n            iconImageHref: iconLocation,\n            iconImageSize: icon.sizes,\n            iconImageOffset: icon.offset\n          });\n\n          bigMap.geoObjects.add(point);\n\n          window.addEventListener(`resize`, () => {\n            let changedIcon = setIconSizes();\n\n            if (icon.sizes[0] !== changedIcon.sizes[0]) {\n              point.options.set(`iconImageSize`, changedIcon.sizes);\n              point.options.set(`iconImageOffset`, changedIcon.offset);\n              icon = changedIcon;\n            }\n          });\n        };\n\n        ymaps.ready(initiateMap);\n      }\n    });\n  };\n\n  const initiateContactsForm = () => {\n    const contacts = document.querySelector(`.contacts`);\n    const contactsForm = contacts.querySelector(`.contacts__form`);\n    const inputs = [].slice.call(contactsForm.querySelectorAll(`input`));\n    const inputName = contactsForm.querySelector(`#name`);\n    const inputPhone = contactsForm.querySelector(`#phone`);\n    const inputEmail = contactsForm.querySelector(`#email`);\n    const submitButton = contactsForm.querySelector(`.contacts__submit `);\n\n    inputName.addEventListener(`keyup`, (evt) => {\n      const allowedSymbols = /^[A-Za-zА-Яа-яЁё\\s]+$/;\n      if (!allowedSymbols.test(evt.target.value)) {\n        evt.target.value = evt.target.value.substring(\n            0,\n            evt.target.value.length - 1\n        );\n      }\n    });\n\n    inputPhone.addEventListener(`keyup`, (evt) => {\n      const phonePattern = /7-[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}/;\n      const allowedSymbols = /[A-Za-zА-Яа-яЁё]/g;\n\n      if (allowedSymbols.test(evt.target.value)) {\n        evt.target.value = evt.target.value.substring(\n            0,\n            evt.target.value.length - 1\n        );\n      }\n\n      if (!phonePattern.test(evt.target.value)) {\n        inputPhone.setCustomValidity(`Введите номер в формате: 7-999-888-66-55`);\n      } else {\n        inputPhone.setCustomValidity(``);\n      }\n    });\n\n    inputEmail.addEventListener(`keyup`, (evt) => {\n      const emailPattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (!emailPattern.test(evt.target.value)) {\n        inputEmail.setCustomValidity(`Введите email в формате: myemail@mail.ru`);\n      } else {\n        inputEmail.setCustomValidity(``);\n      }\n    });\n\n    submitButton.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n\n      if (!contactsForm.reportValidity()) {\n        contactsForm.reportValidity();\n      } else {\n        contactsForm.submit();\n      }\n    });\n  };\n\n  initiateMenu();\n  initiateFeatures();\n  initiateServices();\n  initiatePartners();\n  initiateMap();\n  initiateContactsForm();\n\n}());\n"]}