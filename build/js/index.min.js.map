{"version":3,"sources":["index.js"],"names":["ICONS_SIZES","DESKTOP_WIDTH","offset","document","addEventListener","setIconSizes","window","innerWidth","MOBILE","icon","ymaps","ready","bigMap","Map","map","center","zoom","initiateMap","location","length","href","split","origin","iconLocation","iconLayout","iconImageSize","sizes","iconImageOffset","iconImageHref","changedIcon","point","set","options"],"mappings":"cAAC,WACC,IAGMA,EADAC,CAAAA,MAAa,CAAG,GAAtB,IAAAC,OAAA,EAAA,IAAA,KACMF,EAAAA,CAAAA,MAAc,CAAA,GAAA,IAAAE,OAAA,EAAA,IAAA,KACTC,SADSC,iBACT,mBADS,WAEV,SAAAC,IAMJ,OAXN,MAKUC,OAAAC,WAFVP,EAKYA,EAHVQ,IASMC,EAAOT,SAAAA,cAAAA,QAEPS,GA2CCC,MARDC,MAlCD,WASC,IAAMC,EAAS,IAAIF,MAAMG,IAAIC,EAAK,CAPpCC,OAAA,CAAA,UAAA,WATFC,KAAA,KAqBQP,EAAOJ,IANPY,OAAc,EAEhBF,EADgC,EAA5BH,OAAMM,SAAOR,KAAMG,MAAnBD,WAA4BO,OAEhCH,OAAME,SAAAE,KAAAC,MAANL,WAAM,GADG,2BAMKb,SAAhBe,SAAAI,OAAIC,qBAEFA,IAAAA,EAAY,IACZjB,MAAOY,UAASE,CAAAA,UAAhB,WADY,KAAA,CADdI,WAIO,2BACLD,cAAkBpB,EACnBsB,cAAAhB,EAAAiB,MAMCC,gBAAiBlB,EAAKP,SAFtB0B,EAAAA,WAAeL,IAAAA,GAEfI,OAAAA,iBAAAA,SAAsBzB,WAJxB,IAAA2B,EAAAxB,IASMI,EAACL,MAAAA,KAAPyB,EAAkCH,MAAA,KAChCI,EAAID,QAAWE,IAAf,gBAAAF,EAAAH,OAIEI,EAAME,QAAQD,IAAd,kBAAqCF,EAAY3B,QAFnDO,EAASiB,SAvDpB","file":"index.min.js","sourcesContent":["(function () {\n  'use strict';\n\n  const DESKTOP_WIDTH = 1200;\n  const ICONS_SIZES = {\n    DESKTOP: {sizes: [72, 98], offset: [-35, -90]},\n    MOBILE: {sizes: [21, 28], offset: [-11, -18]}\n  };\n\n  const map = () => {\n    document.addEventListener(`DOMContentLoaded`, () => {\n      const setIconSizes = () => {\n        let icon;\n\n        if (window.innerWidth >= DESKTOP_WIDTH) {\n          icon = ICONS_SIZES.DESKTOP;\n        } else {\n          icon = ICONS_SIZES.MOBILE;\n        }\n\n        return icon;\n      };\n\n      const map = document.querySelector(`#map`);\n\n      if (map) {\n        const initiateMap = () => {\n          const bigMap = new ymaps.Map(map, {\n            center: [55.631813, 37.618403],\n            zoom: 16\n          });\n\n          let icon = setIconSizes();\n\n          let iconLocation;\n          if (window.location.href.split(`/build/`).length > 1) {\n            iconLocation = `${\n            window.location.href.split(`/build/`)[0]\n          }/build/img/icons/geo.svg`;\n          } else {\n            iconLocation = `${document.location.origin}/img/icons/geo.svg`;\n          }\n\n          const point = new ymaps.Placemark([55.631813, 37.618403], null, {\n            iconLayout: `default#imageWithContent`,\n            iconImageHref: iconLocation,\n            iconImageSize: icon.sizes,\n            iconImageOffset: icon.offset\n          });\n\n          bigMap.geoObjects.add(point);\n\n          window.addEventListener(`resize`, () => {\n            let changedIcon = setIconSizes();\n\n            if (icon.sizes[0] !== changedIcon.sizes[0]) {\n              point.options.set(`iconImageSize`, changedIcon.sizes);\n              point.options.set(`iconImageOffset`, changedIcon.offset);\n              icon = changedIcon;\n            }\n          });\n        };\n\n        ymaps.ready(initiateMap);\n      }\n    });\n  };\n\n  map();\n\n}());\n"]}